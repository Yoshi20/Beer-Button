-# pc & tablet view:
%nav.left.m.l
  -# = link_to root_path, class: (@section == 'welcome' ? 'active' : '') do
  -#   = image_tag 'profile_pic.webp', class: 'profile_pic circle small-margin', alt: 'BeerButton profile picture'
  = link_to home_path, class: (@section == 'home' ? 'active' : '') do
    %i home
    %div= 'Home'
  = link_to open_orders_path, class: (@section == 'open_orders' ? 'active' : '') do
    %i filter
    %div= 'Open Orders'
  = link_to closed_orders_path, class: (@section == 'closed_orders' ? 'active' : '') do
    %i filter
    %div= 'Closed Orders'
  - if current_user.present?
    - if current_user.admin?
      = link_to devices_path, class: (@section == 'devices' ? 'active' : '') do
        %i auto_awesome
        %div= 'Devices'
    = link_to edit_user_registration_path, class: (@section == 'users' ? 'active' : '') do
      %i settings
      %div= 'Account'
    = link_to '#', id: 'log_out_link' do
      %i home
      %div= t('navigation.account.log_out')
    = form_with url: destroy_user_session_path, id: "log_out_form", method: :delete
    :javascript
      document.addEventListener("turbo:load", function (e) {
        document.getElementById("log_out_link").addEventListener("click", function(e) {
          e.preventDefault();
          document.getElementById("log_out_form").closest('form').submit()
        });
      });
  - else
    = link_to session_path(:user), class: (@section == 'login' ? 'active' : ''), style: 'margin-top: auto;' do
      %i input
      %div= t('login')
  .modal.large.left.no-scroll
  .modal.left

-# mobile view:
%nav.bottom.s
  = link_to home_path, class: (@section == 'home' ? 'active' : '') do
    %i home
    %div= 'Home'
  = link_to open_orders_path, class: (@section == 'open_orders' ? 'active' : '') do
    %i filter
    %div= 'Open Orders'
  = link_to closed_orders_path, class: (@section == 'closed_orders' ? 'active' : '') do
    %i filter
    %div= 'Closed Orders'
  - if current_user.present?
    - if current_user.admin?
      = link_to devices_path, class: (@section == 'devices' ? 'active' : '') do
        %i auto_awesome
        %div= 'Devices'
    = link_to edit_user_registration_path, class: (@section == 'users' ? 'active' : '') do
      %i settings
      %div= 'Account'
    = link_to '#', id: 'log_out_link' do
      %i home
      %div= t('navigation.account.log_out')
    = form_with url: destroy_user_session_path, id: "log_out_form", method: :delete
    :javascript
      document.addEventListener("turbo:load", function (e) {
        document.getElementById("log_out_link").addEventListener("click", function(e) {
          e.preventDefault();
          document.getElementById("log_out_form").closest('form').submit()
        });
      });
  - else
    = link_to session_path(:user), class: (@section == 'login' ? 'active' : ''), style: 'margin-top: auto;' do
      %i input
      %div= t('login')
  .modal.large.left.no-scroll
  .modal.bottom.medium
